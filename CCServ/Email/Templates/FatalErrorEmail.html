<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
    <table style="border-style:ridge;border-width:5px;font-family:'Times New Roman',Verdana,Arial, sans-serif;font-size: 12pt;mso-line-height-rule:exactly;background:rgb(255, 255, 147);color:rgb(4,2,125);width:850px;">
        <tr style="height:3px;background:rgb(4,2,125);"></tr>
        <tr>
            <td>
                <div style="text-align: center;" >
                    <span style="font-size: 15pt; font-weight: bold;">Command</span><span>Central Communications</span>
                </div>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    <div style="text-align: center;" >
                        The following message was automatically generated by CommandCentral due to an error that occurred on @Model.DateTime (UTC).
                    </div>
                </p>
            </td>
        </tr>
        <tr style="height:3px;background:rgb(4,2,125);"></tr>
        <tr>
            <td>
                <div style="text-align: center;" >
                    <h1>
                        Error Report
                    </h1>
                </div>
            </td>
        </tr>
        <tr>
            <td style="margin-left:40px;margin-right:40px;">
                <div style="text-align: center;"><h2>Session Information</h2></div>
                <br />
                Message : @Model.OriginalMessage
            </td>
        </tr>
        <tr>
            <td style="margin-left:40px;margin-right:40px;">
                <div style="text-align: center;" ><h2>Session Information</h2></div>
                <br />
                Session Id: @Model.Token.AuthenticationSession.Id
                <br />
                Login Time: @Model.Token.AuthenticationSession.LoginTime UTC
                <br />
                Person Id: @Model.Token.AuthenticationSession.Person.Id
                <br />
                Person Friendly Name: @Model.Token.AuthenticationSession.Person
                <br />
                Logout Time: @Model.Token.AuthenticationSession.LogoutTime UTC
                <br />
                Is Active: @Model.Token.AuthenticationSession.IsActive
                <br />
                Permission Names: @Model.ClientPermissionNames
                <br />
                Last Used Time: @Model.Token.AuthenticationSession.LastUsedTime UTC
            </td>
        </tr>
        <tr>
            <td style="margin-left:40px;margin-right:40px;">
                <div style="text-align: center;" ><h2>Message Information</h2></div>
                <br />
                Message Id: @Model.Token.Id
                <br />
                API Key: @Model.Token.APIKey.Value
                <br />
                Application Name: @Model.Token.APIKey.ApplicationName
                <br />
                Call Time: @Model.Token.CallTime
                <br />
                Raw JSON Request: @Model.Token.RawRequestBody
                <br />
                Endpoint: @Model.Token.CalledEndpoint
                <br />
                Raw JSON Result: @Model.Token.RawResponseBody
                <br />
                State: @Model.Token.State
                <br />
                Handled Time: @Model.Token.HandledTime UTC
                <br />
                Host Address: @Model.Token.HostAddress
            </td>
        </tr>
        <tr>
            <td style="margin-left:40px;margin-right:40px;">
                <div style="text-align: center;" ><h2>Error Information</h2></div>
                <br />
                <b>Error Message: </b>
                @Model.Exception.Message
                <br />
                <b>Inner Error Message: </b>
                @Model.Exception.InnerException.Message
                <br />
                <b>Stack Trace: </b>
                @Model.Exception.StackTrace
                <br />
                <b>Source: </b>
                @Model.Exception.Source
                <br />
                <b>Target Site: </b>
                @Model.Exception.TargetSite
            </td>
        </tr>
        <tr>
            <td style="margin-left:40px;margin-right:40px;">
                <div style="text-align: center;" ><h2>Additional Information</h2></div>
                <br />
                The information in this error was logged to the database and sent to the developers' email addresses.
                <br />
                If sensitive information was revealed during this error, the user to whom it belongs MUST be alerted, and appropriate action MUST be taken, and that information should be manually scrubbed from the database.
                <br />
                An error that generates this email is extremely severe and action to fix it must be taken immediately to prevent similar errors from occurring.  The user who was logged in should also be contacted.
                <br />
                It may be necessary for the service to be shut down to facilitate these bug fixes.
                <br />
                The details of this error were not released to the client; instead, a generic error message was shown.
            </td>
        </tr>
        <tr style="height:3px;background:rgb(4,2,125);"></tr>
        <tr>
            <td>
                <div style="text-align: center;" >
                    The information in this email was sent by CommandCentral and was intended for its developers.
                </div>
            </td>
        </tr>
        <tr style="height:3px;background:rgb(4,2,125);"></tr>
    </table>

</body>
</html>